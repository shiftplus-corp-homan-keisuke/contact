# Swagger UIを使った手動テストガイド

## 🌐 Swagger UIでのテスト手順

サーバー起動後、ブラウザで http://localhost:3000/api/docs にアクセスすると、インタラクティブなAPI文書が表示されます。

### 1. 基本的な使い方

#### 1.1 認証なしのエンドポイントテスト
- `POST /auth/register` - ユーザー登録
- `POST /auth/login` - ログイン
- `GET /health` - ヘルスチェック

#### 1.2 認証が必要なエンドポイントテスト
1. まずログインしてトークンを取得
2. Swagger UIの右上の「Authorize」ボタンをクリック
3. Bearer認証にトークンを入力
4. 認証が必要なエンドポイントをテスト

### 2. テストシナリオ例

#### シナリオ1: 新規ユーザー登録からログインまで
1. `POST /auth/register` でユーザー登録
2. `POST /auth/login` でログイン
3. `GET /auth/me` で現在のユーザー情報確認

#### シナリオ2: 権限管理テスト
1. 管理者でログイン
2. `POST /roles/default` でデフォルト役割作成
3. `GET /roles` で役割一覧確認
4. `POST /roles` で新しい役割作成

#### シナリオ3: APIキー管理テスト
1. 管理者でログイン
2. `POST /api-keys` でAPIキー作成
3. `GET /api-keys` でAPIキー一覧確認
4. APIキー認証でエンドポイントテスト

### 3. エラーテスト

#### 認証エラーのテスト
- 無効なトークンでリクエスト → 401エラー
- 権限のないユーザーでアクセス → 403エラー

#### バリデーションエラーのテスト
- 不正な形式のメールアドレス → 400エラー
- 短すぎるパスワード → 400エラー

## 🔧 便利な機能

### レスポンスの確認
- ステータスコード
- レスポンスヘッダー
- レスポンスボディ

### リクエストの詳細
- curlコマンドの自動生成
- リクエストURL
- リクエストヘッダー

これらの方法で、実装した認証・認可システムを包括的にテストできます！