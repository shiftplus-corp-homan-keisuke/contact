# 共通機能 (Common)

このディレクトリには、アプリケーション全体で使用される真の共通機能のみを配置します。

## 構造

### 真の共通機能（全モジュール共通）
- `guards/permissions.guard.ts` - 権限チェック（全モジュール共通）
- `decorators/current-user.decorator.ts` - 現在のユーザー取得（全コントローラー共通）
- `filters/global-exception.filter.ts` - グローバル例外処理
- `interceptors/logging.interceptor.ts` - グローバルログ記録

### 共通ユーティリティ
- `utils/` - 汎用ユーティリティ関数
- `constants/` - アプリケーション全体の定数
- `types/` - 共通型定義

### 基盤機能
- `dto/` - 共通DTO（ページネーション、レスポンス形式など）
- `entities/` - 基底エンティティクラス
- `validators/` - 共通バリデーション関数

## 使用ガイドライン

### 共通機能として配置する条件
1. **全モジュール共通**: 3つ以上のモジュールで使用される
2. **基盤機能**: アプリケーションの基本的な動作に必要
3. **汎用性**: 特定の業務ロジックに依存しない

### 機能固有の場合は各モジュールに配置
- 特定のモジュールでのみ使用される機能
- 業務ロジックに密結合した機能
- モジュール固有の設定や制約がある機能